{"version":3,"sources":["components/SearchBar.js","components/Header.js","components/Footer.js","images/logo.png","components/CardView.js","components/Firebase.js","components/Table.js","components/AboutUs.js","App.js","index.js"],"names":["SearchBar","term","setTerm","className","type","placeholder","value","onChange","e","target","Header","logo","user","login","logout","searchTerm","setlang","setSearchTerm","search","Navbar","bg","variant","expand","Container","Brand","href","alt","src","width","height","Toggle","Collapse","id","Nav","to","Link","onClick","Footer","CardView","click","setClick","data","updateRating","dataArr","useState","totalUsers","setTotalUsers","averageRating","setAverageRating","uid","rating","isNaN","user_rating","ratingStars","count","newrating","Object","keys","length","sum","parseFloat","toFixed","size","isHalf","classNames","useEffect","style","display","NaN","stopPropagation","handleChildClick","image","name","artist","album","release_date","edit","url","firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","firebaseAuth","getAuth","auth","database","firebaseDatabase","Table","filteredData","setSortBy","searchResults","pageData","setPageData","pageNum","setPageNum","setSearch","dataID","i","push","max_pages","Math","round","insertData","track","a","db","getDatabase","set","ref","album_type","language","console","log","card","map","key","Card","Img","Body","Title","searchCard","includes","handleClick","handleFilter","lang","handleSortBy","sortBy","slice","color","DropdownButton","align","title","Dropdown","Item","AboutUs","rel","App","songSearchData","setSongSearchData","setData","setUser","setLanguage","client_id","getSearchData","access_token","replace","search_url","headers","axios","get","response","limit","tracks","arr","items","artists","images","uri","error","btoa","post","querystring","stringify","then","catch","refreshAccessToken","album_name","getData","dbRef","onValue","child","snapshot","exists","songs","val","song","sort","b","localeCompare","filter","calcRating","avg","alert","songid","update","onAuthStateChanged","onLoad","signInWithPopup","result","signOut","path","exact","render","insert","component","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dd9342e0.chunk.js","sourcesContent":["import { FaSearch } from 'react-icons/fa'\r\n\r\nconst SearchBar = ({ term, setTerm }) => {\r\n    //Getting search\r\n    return (\r\n        <div className=\"search\">\r\n            <div className=\"searchInputs\">\r\n                <input className=\"searchBar\" type=\"text\" placeholder=\"Search Songs...\" value={term} onChange={(e) => { setTerm(e.target.value) }} />\r\n                <FaSearch className=\"searchIcon\" />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar\r\n","import SearchBar from './SearchBar'\r\nimport { Navbar, Container, Nav } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Header = ({ logo, user, login, logout, setlang, searchTerm, setSearchTerm, search }) => {\r\n    return (\r\n        <Navbar className=\"navbar\" bg=\"dark\" variant=\"dark\" expand=\"lg\" >\r\n            <Container className=\"container-fluid\">\r\n                <Navbar.Brand className=\"navbar-brand\" href=\"/D12A_IP_GoodListens\">\r\n                    <img alt=\"Good Listens Logo\" src={logo} width=\"100\" height=\"100\" className=\"d-inline-block align-center\" />\r\n                    GoodListens\r\n                </Navbar.Brand>\r\n\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" className=\"toggle\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\" >\r\n                    <Nav className=\"nav justify-content-end\" >\r\n                        <Link className=\"nav-link\" to=\"/D12A_IP_GoodListens\" > Home </Link>\r\n                        <Link className=\"nav-link\" to=\"/D12A_IP_GoodListens/about\" > About </Link>\r\n                        {user ?\r\n                            <Nav.Link className=\"nav-link\" onClick={logout} > Sign Out </Nav.Link> :\r\n                            <Nav.Link className=\"nav-link\" onClick={login} > Sign In </Nav.Link>\r\n                        }\r\n                        <form >\r\n                            <SearchBar SearchBar={SearchBar} term={searchTerm} setTerm={setSearchTerm} />\r\n                        </form>\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n\r\n            </Container>\r\n        </Navbar>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","const Footer = () => {\r\n    return (\r\n        <div className=\"footer\" >\r\n            D12A IP GoodListens 2021\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","export default __webpack_public_path__ + \"static/media/logo.585afbed.png\";","import { useState, useEffect } from \"react\";\r\nimport { FaRegWindowClose, FaHeadphones } from \"react-icons/fa\"\r\nimport ReactStars from \"react-rating-stars-component\"\r\n\r\nconst CardView = ({ click, setClick, data, dataArr, updateRating, user }) => {\r\n  const [totalUsers, setTotalUsers] = useState(0)\r\n  const [averageRating, setAverageRating] = useState(0)\r\n\r\n  const uid = user ? user.uid : null\r\n\r\n  const ratingChanged = (newrating) => {\r\n    updateRating(data.id, newrating)\r\n    if (data.user_rating) {\r\n      data.user_rating[uid] = newrating\r\n    } else {\r\n      data.user_rating = {\r\n        [uid]: newrating\r\n      }\r\n    }\r\n    if (!isNaN(click) && data.user_rating) {\r\n      setTotalUsers(Object.keys(data.user_rating).length)\r\n      let sum = 0\r\n      for (let rating in data.user_rating) {\r\n        sum += data.user_rating[rating]\r\n      }\r\n      setAverageRating(parseFloat((sum / totalUsers).toFixed(1)))\r\n    } else {\r\n      setTotalUsers(0)\r\n      setAverageRating(0)\r\n    }\r\n  }\r\n\r\n  // sets rating after checking if something is clicked and user_rating exists in the db and uid exist in user_rating\r\n  const rating = !isNaN(click) && data.user_rating && (uid in data.user_rating) ? data.user_rating[uid] : 0\r\n  // returns a react-rating-stars-component if something is clicked, value depending on rating making it dynamic\r\n  const ratingStars = !isNaN(click) ?\r\n    <ReactStars count={5} onChange={ratingChanged} size={20} isHalf={true} value={rating} classNames=\"react-stars\" /> : null\r\n\r\n  const handleParentClick = () => {\r\n    setClick(NaN)\r\n  }\r\n\r\n  const handleChildClick = (e) => {\r\n    e.stopPropagation();\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isNaN(click) && data.user_rating) {\r\n      setTotalUsers(Object.keys(data.user_rating).length)\r\n      let sum = 0\r\n      for (let rating in data.user_rating) {\r\n        sum += data.user_rating[rating]\r\n      }\r\n      setAverageRating(parseFloat((sum / totalUsers).toFixed(1)))\r\n    } else {\r\n      setTotalUsers(0)\r\n      setAverageRating(0)\r\n    }\r\n  }, [data, totalUsers, click])\r\n\r\n  return (\r\n    <div className=\"view child\"\r\n      style={{ display: `${isNaN(click) ? \"none\" : \"flex\"}` }}\r\n      onClick={(e) => handleParentClick()} >\r\n      {/* <FaRegWindowClose className=\"closeIcon\" onClick={() => setClick(NaN)} /> */}\r\n      <div className=\"card-component\" onClick={(e) => handleChildClick(e)}>\r\n        <div className=\"card-img-wrapper\">\r\n          <img alt=\"card-img\" src={isNaN(click) ? '' : data.image} className=\"card-img\" />\r\n        </div>\r\n        <div className=\"card-text\">\r\n          <div className=\"song-header\">\r\n            <h2> {isNaN(click) ? '' : data.name} </h2>\r\n            <h5> Artist - <span className=\"greyscale\">{isNaN(click) ? '' : data.artist}</span> </h5>\r\n            <h5> Album - <span className=\"greyscale\">{isNaN(click) ? '' : data.album}</span>  </h5>\r\n            <h5> Release Date - <span className=\"greyscale\">{isNaN(click) ? '' : data.release_date}</span>  </h5>\r\n          </div>\r\n          <div className=\"ratings\">\r\n            <div className=\"rating-wrapper\">\r\n              <p>Your Rating:</p>\r\n              {user ? <div>{ratingStars}</div>\r\n                : <p className=\"sign-in-warning\">Sign In to rate</p>}\r\n            </div>\r\n            <div className=\"rating-wrapper\">\r\n              <p> Overall Rating: </p>\r\n              <ReactStars count={1} size={20} edit={false} value={1} className=\"react-star\" />\r\n              <p>{averageRating} ({totalUsers})</p>\r\n            </div>\r\n          </div>\r\n          <a href={isNaN(click) ? '/' : data.url} >\r\n            <div className=\"play-icon-wrapper\">\r\n              <FaHeadphones className=\"play-icon\" />\r\n            </div>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardView;\r\n","import * as firebase from 'firebase/app'\r\nimport * as firebaseAuth from \"firebase/auth\";\r\nimport * as firebaseDatabase from \"firebase/database\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAet6gHh72xSAlXNXUHejyTZzybRwe8L4M\",\r\n    authDomain: \"good-listens-2885b.firebaseapp.com\",\r\n    projectId: \"good-listens-2885b\",\r\n    storageBucket: \"good-listens-2885b.appspot.com\",\r\n    messagingSenderId: \"41185449889\",\r\n    appId: \"1:41185449889:web:ffa9d80c9b4adc8d33dde0\",\r\n    measurementId: \"G-3YP60LP1M1\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\nexport const provider = new firebaseAuth.GoogleAuthProvider();\r\nexport const getAuth = firebaseAuth.getAuth();\r\nexport const auth = firebaseAuth\r\nexport const database = firebaseDatabase\r\nexport default firebase\r\n","import CardView from \"./CardView\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { ref, set } from \"firebase/database\";\r\nimport { database } from './Firebase';\r\nimport { Card, Dropdown, DropdownButton } from \"react-bootstrap\";\r\nimport { FaAngleLeft, FaAngleRight } from \"react-icons/fa\"\r\n\r\n\r\n\r\nconst Table = ({ dataArr, searchTerm, filteredData, setSortBy, setlang, searchResults, updateRating, user }) => {\r\n\r\n  const [click, setClick] = useState(NaN);\r\n  const [pageData, setPageData] = useState([])\r\n  const [pageNum, setPageNum] = useState(1)\r\n  const [search, setSearch] = useState(false)\r\n  \r\n  let dataID = []\r\n  for (let i = 0; i < dataArr.length; i++) {\r\n    dataID.push(dataArr[i].id);\r\n  }\r\n  //Filtering the data to be shown according to languages\r\n\r\n  //Calculating the maximum number of pages\r\n  const max_pages = (filteredData.length % 12 === 0) ? filteredData.length / 12 : Math.round(filteredData.length / 12) + 1\r\n\r\n  const prevPage = () => {\r\n    if (pageNum > 1) {\r\n      setPageNum(pageNum - 1)\r\n    } else {\r\n      setPageNum(max_pages)\r\n    }\r\n  }\r\n\r\n  const nextPage = () => {\r\n    if (pageNum < max_pages) {\r\n      setPageNum(pageNum + 1)\r\n    } else {\r\n      setPageNum(1)\r\n    }\r\n  }\r\n\r\n  const insertData = async (track) => {\r\n    const db = database.getDatabase()\r\n    set(ref(db, \"spotify/\" + track.id), {\r\n      album: track.album,\r\n      image: track.image,\r\n      artist: track.artist,\r\n      release_date: track.release_date,\r\n      album_type: track.album_type,\r\n      name: track.name,\r\n      language: \"undefined\",\r\n      url: track.url,\r\n      user_rating: {}\r\n    });\r\n    console.log(\"Data added successfully\");\r\n  }\r\n\r\n\r\n  //if there is something in the searchbox will set the search hook to true \r\n  useEffect(() => {\r\n    if (searchTerm === \"\" && searchTerm.length === 0) {\r\n      setSearch(false);\r\n    }\r\n    else if (searchTerm.length > 0) {\r\n      setSearch(true)\r\n    }\r\n  }, [searchTerm])\r\n\r\n  const handleClick = (data, key) => {\r\n    setClick(key)\r\n    if (dataID.includes(data.id)) {\r\n      console.log(\"Data is already in Database\");\r\n      for (let i = 0; i < dataArr.length; i++) {\r\n        if (dataArr[i].id === data.id) {\r\n          data.user_rating = dataArr[i].user_rating\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      console.log(\"Data not in database\");\r\n      insertData(data)\r\n    }\r\n  }\r\n  \r\n  //card and searchCard are same but they are mapping pagedata and searchresults \r\n  const card = pageData.map((data, key) => {\r\n    return (\r\n      <div className=\"col-lg-3 col-md-6 col-sm-12\" key={key}>\r\n        <Card onClick={() => { setClick(key) }} >\r\n          <Card.Img variant=\"top\" src={data.image} />\r\n          <Card.Body className=\"bg-dark card-body\">\r\n            <Card.Title className=\"center card-tile\">{data.name}</Card.Title>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const searchCard = searchResults.map((data, key) => {\r\n    return (\r\n      <div className=\"col-lg-3 col-md-6 col-sm-12\" key={key}>\r\n        <Card onClick={() => handleClick(data, key)} >\r\n          <Card.Img variant=\"top\" src={data.image} />\r\n          <Card.Body className=\"bg-dark card-body\">\r\n            <Card.Title className=\"center card-title\">{data.name}</Card.Title>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const handleFilter = (lang) => {\r\n    setPageNum(1)\r\n    setlang(lang)\r\n  }\r\n\r\n  const handleSortBy = (sortBy) => {\r\n    setPageNum(1)\r\n    setSortBy(sortBy)\r\n  }\r\n\r\n  // updating the pageData as per pageNum\r\n  useEffect(() => {\r\n    setPageData(filteredData.slice((pageNum - 1) * 12, ((pageNum - 1) * 12) + 12))\r\n  }, [pageNum, filteredData])\r\n\r\n  return (\r\n    <div className=\"container-fluid bodyContainer\">\r\n      <div className=\"tableContainer\">\r\n        <div className='pageBtnContainer'>\r\n          <div className='pageBtn' onClick={prevPage} >< FaAngleLeft size={30} color={\"orange\"} className=\"pageBtnIcon\" /></div>\r\n          <DropdownButton id=\"dropdown-basic-button\" align=\"end\" title=\"Language\">\r\n            <Dropdown.Item className=\"languageDropdown\" onClick={() => handleFilter(\"English\")}>English</Dropdown.Item>\r\n            <Dropdown.Item className=\"languageDropdown\" onClick={() => handleFilter(\"Hindi\")}>Hindi</Dropdown.Item>\r\n          </DropdownButton>\r\n          <div className=\"pageNumber\" >{pageNum}</div>\r\n          <DropdownButton id=\"dropdown-basic-button\" align=\"end\" title=\"Sort By\">\r\n            <Dropdown.Item className=\"languageDropdown\" onClick={() => handleSortBy(\"name\")} >Name</Dropdown.Item>\r\n            <Dropdown.Item className=\"languageDropdown\" onClick={() => handleSortBy(\"artist\")} >Artist</Dropdown.Item>\r\n            {user ? <Dropdown.Item className=\"languageDropdown\" onClick={() => handleSortBy(\"user\")} >Your Rating</Dropdown.Item> : null}\r\n            <Dropdown.Item className=\"languageDropdown\" onClick={() => handleSortBy(\"average\")} >Top Rating</Dropdown.Item>\r\n          </DropdownButton>\r\n          <div className='pageBtn' onClick={nextPage} >< FaAngleRight size={30} color={\"orange\"} className=\"pageBtnIcon\" /></div>\r\n        </div>\r\n        <div className=\"row\" >{search ? searchCard : card}</div>\r\n      </div>\r\n      <div className=\"parent\">\r\n        <CardView click={click} setClick={setClick} data={search ? searchResults[click] : pageData[click]}\r\n          dataArr={dataArr} updateRating={updateRating} user={user} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import { FaFacebookF, FaGithub, FaTwitter } from 'react-icons/fa'\r\n\r\nconst AboutUs = () => {\r\n    return (\r\n        <section className=\"about\">\r\n            <div className=\"aboutUsContainer\">\r\n                <div className=\"innerContainer\">\r\n                    <h1>About Us</h1>\r\n                    <p className=\"text\">\r\n                        Goodlistens provides the top rated songs for you. It provides you with the details\r\n                        for Artists, Album name, rating given by other Listeners.\r\n                    </p>\r\n                    <p className=\"text\">\r\n                        If you wanna listen to your favourite song just click on the headphone button which directly\r\n                        takes you to spotify web to enjoy your music.\r\n                    </p>\r\n                    <h2>Contact Us On</h2>\r\n                    <div className=\"container-fluid\" >\r\n                        <a href=\"https://github.com/Anurag-Saraswat-01/D12A_IP_GoodListens\" target=\"_blank\" rel=\"noopener noreferrer\"\r\n                            style={{ color: \"white\" }}>\r\n                            <FaGithub className=\"icons\" size={30} />\r\n                        </a>\r\n                        <FaFacebookF className=\"icons\" size={30} />\r\n                        <FaTwitter className=\"icons\" size={30} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default AboutUs\r\n","import Header from './components/Header'\r\nimport Footer from './components/Footer'\r\nimport logo from './images/logo.png';\r\nimport Table from \"./components/Table\";\r\nimport AboutUs from './components/AboutUs';\r\nimport { useState, useEffect } from 'react';\r\nimport { auth, provider, getAuth, database } from './components/Firebase';\r\nimport { ref, set } from \"firebase/database\";\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport querystring from 'query-string'\r\n\r\n\r\n// Subsequent queries will use persistence, if it was enabled successfully\r\n\r\nfunction App() {\r\n  const [songSearchData, setSongSearchData] = useState([]);\r\n  const [data, setData] = useState([]);\r\n  const [user, setUser] = useState(null)\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [language, setLanguage] = useState(\"English\");\r\n  const [sortBy, setSortBy] = useState('name')\r\n  const refresh_token = \"AQARwB4kcc2WGbbRcpuusCC0dccDVFqSwWh7ea6ewTY5-lYsJAcV8gB0u29DAJDk__QSKOqRfTL2Zo5A_AJ0NaS157pFBhvuD2qcN8jXNc9088_K5W4hUXVLVtXxHTStO8Q\"\r\n\r\n  const TOKEN = \"https://accounts.spotify.com/api/token\";\r\n\r\n  const client_id = \"e92ebaa8a3d1456fb1ab78acfe75fec7\"\r\n  const client_secret = \"f2cdafb887294ee1a158d5905cc89f4d\"\r\n\r\n  //Refreshing access token\r\n  function refreshAccessToken() {\r\n    const headers = {\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n        'Authorization': 'Basic ' + btoa(client_id + \":\" + client_secret)\r\n      }\r\n    };\r\n\r\n    const data = {\r\n      'grant_type': 'client_credentials',\r\n      'refresh_token': refresh_token,\r\n      'client_id': client_id\r\n    };\r\n\r\n    axios.post(TOKEN, querystring.stringify(data), headers)\r\n      .then(response => {\r\n        getSearchData(response.data.access_token)\r\n      })\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  const getSearchData = async (access_token) => {\r\n    var track = searchTerm.replace(/ /g, \"%20\");\r\n    const type = \"track\" //artist, album \r\n    const market = \"US\";\r\n    const limit = \"12\";\r\n    const offset = \"0\"\r\n    const search_url = `https://api.spotify.com/v1/search?q=${track}&type=${type}&market=${market}&limit=${limit}&offset=${offset}`\r\n\r\n    const headers = {\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'Bearer ' + access_token\r\n      }\r\n    }\r\n\r\n    const response = await axios.get(search_url, headers)\r\n    if (response.data) {\r\n      let limit = response.data.tracks.limit;\r\n      let arr = []\r\n      for (let i = 0; i < limit; i++) {\r\n        try {\r\n          arr.push({\r\n            id: response.data.tracks.items[i].id,\r\n            name: response.data.tracks.items[i].name,\r\n            album_type: response.data.tracks.items[i].album.type,\r\n            album: response.data.tracks.items[i].album.name,\r\n            artist: response.data.tracks.items[i].artists[0].name,\r\n            image: response.data.tracks.items[i].album.images[1].url,\r\n            language: \"English\",\r\n            release_date: response.data.tracks.items[i].album.release_date,\r\n            url: response.data.tracks.items[i].uri,\r\n            user_rating: null\r\n          })\r\n          setSongSearchData(arr)\r\n          if (searchTerm.length === 0) {\r\n            setSongSearchData([])\r\n          }\r\n\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  //Will refresh the accesstoken and search data if there is something in the searchbox\r\n  useEffect(() => {\r\n    if (searchTerm.length > 0) {\r\n      refreshAccessToken()\r\n    }\r\n  }, [searchTerm])\r\n\r\n\r\n  //Inserting data into Firebase on clicking the searchResults\r\n  const insertData = async (track) => {\r\n    const db = database.getDatabase()\r\n    set(ref(db, \"spotify/\" + track.id), {\r\n      album: track.album_name,\r\n      image: track.image,\r\n      artist: track.artist,\r\n      release_date: track.release_date,\r\n      album_type: track.album_type,\r\n      name: track.name,\r\n      language: \"English\",\r\n      url: track.url,\r\n      user_rating: {},\r\n    });\r\n    console.log(\"Data added successfully\");\r\n  }\r\n\r\n  // Login with Google Accounts\r\n  const login = () => {\r\n    auth.signInWithPopup(getAuth, provider)\r\n      .then((result) => {\r\n        if (result.user) {\r\n          const user = result.user\r\n          setUser(user)\r\n        }\r\n      })\r\n  }\r\n\r\n  // logout function \r\n  const logout = () => {\r\n    auth.signOut(getAuth)\r\n      .then(() => {\r\n        setUser(null)\r\n      })\r\n  }\r\n\r\n  // Accesssing data from database\r\n  const getData = () => {\r\n    const db = database.getDatabase()\r\n    const dbRef = database.ref(db)\r\n    database.onValue(database.child(dbRef, \"spotify/\"), (snapshot) => {\r\n      if (snapshot.exists()) {\r\n        const songs = snapshot.val()\r\n        let arr = []\r\n        for (let song in songs) {\r\n          arr.push({\r\n            id: song,\r\n            name: songs[song].name,\r\n            album_type: songs[song].album_type,\r\n            album: songs[song].album,\r\n            artist: songs[song].artist,\r\n            image: songs[song].image,\r\n            language: songs[song].language,\r\n            release_date: songs[song].release_date,\r\n            url: songs[song].url,\r\n            user_rating: ('user_rating' in songs[song] ? songs[song].user_rating : null)\r\n          })\r\n        }\r\n\r\n        switch (sortBy) {\r\n          case 'name':\r\n            setData(arr.sort((a, b) => `${a.name}`.localeCompare(`${b.name}`)))\r\n            break;\r\n\r\n          case 'artist':\r\n            setData(arr.sort((a, b) => `${a.artist}`.localeCompare(`${b.artist}`)))\r\n            break;\r\n\r\n          case 'user':\r\n            arr = arr.filter(data => data.user_rating && user.uid in data.user_rating)\r\n            setData(arr.sort((a, b) => b.user_rating[user.uid] - a.user_rating[user.uid]))\r\n            break;\r\n\r\n          case 'average':\r\n            const calcRating = (data) => {\r\n              let avg\r\n              if (data.user_rating) {\r\n                let totalUsers = Object.keys(data.user_rating).length\r\n                let sum = 0\r\n                for (let rating in data.user_rating) {\r\n                  sum += data.user_rating[rating]\r\n                }\r\n                avg = sum / totalUsers\r\n              } else {\r\n                avg = 0\r\n              }\r\n              return avg\r\n            }\r\n            setData(arr.sort((a, b) => calcRating(b) - calcRating(a)))\r\n            break;\r\n\r\n          default:\r\n            break;\r\n        }\r\n      } else {\r\n        alert(\"No data\")\r\n      }\r\n    })\r\n  }\r\n\r\n  //updating user rating\r\n  const updateRating = (songid, rating) => {\r\n    const db = database.getDatabase()\r\n    const dbRef = database.ref(db)\r\n    const data = {}\r\n    data[\"spotify/\" + songid + `/user_rating/${user.uid}`] = rating\r\n    database.update(dbRef, data)\r\n    getData()\r\n  }\r\n\r\n  // so that user remains logged in after refresh\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged(getAuth, (user) => {\r\n      if (user) {\r\n        setUser(user)\r\n      }\r\n    })\r\n  })\r\n\r\n  useEffect(() => {\r\n    getData()\r\n  }, [sortBy])\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"container-fluid\" onLoad={getData}>\r\n        <Header logo={logo} user={user} setlang={setLanguage} login={login} logout={logout} searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\r\n        <Route path=\"/D12A_IP_GoodListens\" exact render={() => (\r\n          <Table dataArr={data} setlang={setLanguage} filteredData={data.filter(data => data.language === language)} setSortBy={setSortBy}\r\n            searchResults={songSearchData} searchTerm={searchTerm} updateRating={updateRating} user={user} insert={insertData} />\r\n        )} />\r\n        <Route path=\"/D12A_IP_GoodListens/about\" component={AboutUs} />\r\n        <Footer />\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n"],"sourceRoot":""}